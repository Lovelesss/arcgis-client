(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-030d24b0"],{"469f":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("7d7b")},"5d73":function(e,t,n){e.exports=n("469f")},"5f9c":function(e,t,n){"use strict";var r=n("ce23"),o=n.n(r);o.a},"768b":function(e,t,n){"use strict";var r=n("a745"),o=n.n(r);function i(e){if(o()(e))return e}var a=n("5d73"),s=n.n(a);function c(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=s()(e);!(r=(a=c.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){o=!0,i=u}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw i}}return n}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){return i(e)||c(e,t)||u()}n.d(t,"a",function(){return l})},"7d7b":function(e,t,n){var r=n("e4ae"),o=n("7cd6");e.exports=n("584a").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},afaa:function(e,t,n){(function(e,n){n(t)})(0,function(e){"use strict";var t="4.12";function n(e){var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function r(e){return void 0===e&&(e=t),"https://js.arcgis.com/"+e+"/"}function o(e){void 0===e&&(e=t);var o=r(e),i=n(e);if(3===i.major){var a=i.minor<=10?"js/":"";return""+o+a+"esri/css/esri.css"}return o+"esri/css/main.css"}function i(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function a(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function s(e){return document.querySelector('link[href*="'+e+'"]')}function c(e){return!e||n(e)?o(e):e}function u(e,t){var n=c(e),r=s(n);return r||(r=i(n),a(r,t)),r}var l="undefined"!==typeof window,d={Promise:l?window["Promise"]:void 0};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function v(e,t,n){var r;n&&(r=m(e,n));var o=function(){t(e),e.removeEventListener("load",o,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",o,!1)}function m(e,t){var n=function(r){t(r.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function p(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window["require"];return e&&e.on}function w(e){void 0===e&&(e={});var t=e.version,n=e.url||r(t);return new d.Promise(function(r,o){var i=p();if(i){var a=i.getAttribute("src");a!==n?o(new Error("The ArcGIS API for JavaScript is already loaded ("+a+").")):h()?r(i):v(i,r,o)}else if(h())o(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=e.css;if(s){var c=!0===s;u(c?t:s,e.insertCssBefore)}e.dojoConfig&&(window["dojoConfig"]=e.dojoConfig),i=f(n),v(i,function(){i.setAttribute("data-esri-loader","loaded"),r(i)},o),document.body.appendChild(i)}})}function y(e){return new d.Promise(function(t,n){var r=window["require"].on("error",n);window["require"](e,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)})})}function b(e,t){if(void 0===t&&(t={}),h())return y(e);var n=p(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),w(t).then(function(){return y(e)})}var g={getScript:p,isLoaded:h,loadModules:b,loadScript:w,loadCss:u,utils:d};e.getScript=p,e.isLoaded=h,e.loadModules=b,e.loadScript=w,e.loadCss=u,e.utils=d,e["default"]=g,Object.defineProperty(e,"__esModule",{value:!0})})},ce23:function(e,t,n){},e437:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{background:"transparent"}},[n("button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.fullScreen()}}},[e._v("全屏")]),e._m(0)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard",attrs:{id:"content"}},[n("div",{attrs:{id:"viewDiv"}})])}],i=n("768b"),a=n("afaa"),s=n.n(a),c=n("bc3a"),u=n.n(c),l={name:"StationInfo",data:function(){return{month:(new Date).getMonth()+1,day:(new Date).getDate(),hourFlag:(new Date).getHours()}},mounted:function(){this.getWeather(6,27,this.hourFlag)},components:{},computed:{},methods:{fullScreen:function(){var e=document.getElementById("content");function t(e){var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}t(e)},getWeather:function(e,t,n){var r={url:"https://js.arcgis.com/4.12/"};s.a.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/geometry/Point","esri/layers/support/LabelClass","esri/widgets/Legend","esri/widgets/CoordinateConversion"],r).then(function(r){var o=Object(i["a"])(r,6),a=o[0],s=o[1],c=o[2],l=o[3],d=o[4],f=(o[5],[{name:"ObjectID",alias:"ObjectID",type:"oid"},{name:"station_name",alias:"站点名",type:"string"},{name:"observe_alt",alias:"观测场海拔",type:"single"}]),v={type:"simple",symbol:{type:"simple-marker",size:10,color:[226,119,40],outline:{width:.5,color:"white"}}},m=new d({labelExpressionInfo:{expression:"$feature.station_name"},symbol:{type:"text",color:"black",haloSize:1,haloColor:"white"}}),p={month:e,day:t,hour:n};console.log("param: ".concat(p));var h=[];u.a.get("http://localhost:3000/stations").then(function(e){var t=e.data.result;t.forEach(function(e){var t=e.lon,n=e.lat;h.push({geometry:new l({x:t,y:n}),attributes:{ObjectID:"ObjectId",station_name:e.Station_name,observe_alt:e.Observe_alt}})})}),setTimeout(function(){console.log(h);var e=new c({source:h,fields:f,renderer:v,popupTemplate:{title:"{station_name}",content:[{type:"fields",fieldInfos:[{fieldName:"ObjectID"},{fieldName:"station_name"},{fieldName:"observe_alt"}]}]}});e.labelingInfo=[m];var t=new a({basemap:"dark-gray-vector",layers:[e]}),n=new s({container:"viewDiv",map:t,center:[102.929,28.127],zoom:7}),r=document.createElement("div");function o(e){var t="Lat/Lon "+e.latitude.toFixed(3)+" "+e.longitude.toFixed(3)+" | Scale 1:"+Math.round(1*n.scale)+" | Zoom "+n.zoom;r.innerHTML=t}r.id="coordsWidget",r.className="esri-widget esri-component",r.style.padding="7px 15px 5px",n.ui.add(r,"bottom-right"),n.watch("stationary",function(e){o(n.center)}),n.on("pointer-move",function(e){o(n.toMap({x:e.x,y:e.y}))})},1e3)},function(e){console.log(e)})}}},d=l,f=(n("5f9c"),n("2877")),v=Object(f["a"])(d,r,o,!1,null,"3d507b06",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-030d24b0.1a8490db.js.map